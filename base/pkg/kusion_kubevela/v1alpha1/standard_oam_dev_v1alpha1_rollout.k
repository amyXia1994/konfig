"""
This file was generated by the KCL auto-gen tool. DO NOT EDIT.
Editing this file might prove futile when you re-run the KCL auto-gen generate command.
"""
import base.pkg.kusion_kubernetes.apimachinery.apis


schema Rollout:
    """ Rollout is the Schema for the Rollout API

    Attributes
    ----------
    apiVersion : str, default is "standard.oam.dev/v1alpha1", required
         APIVersion defines the versioned schema of this representation of an object. Servers should convert recognized schemas to the latest internal value, and may reject unrecognized values. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources
    kind : str, default is "Rollout", required
         Kind is a string value representing the REST resource this object represents. Servers may infer this from the endpoint the client submits requests to. Cannot be updated. In CamelCase. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds
    metadata : apis.ObjectMeta, default is Undefined, optional
        metadata
    spec : StandardOamDevV1alpha1RolloutSpec, default is Undefined, optional
        spec
    status : StandardOamDevV1alpha1RolloutStatus, default is Undefined, optional
        status
    """


    

    apiVersion: "standard.oam.dev/v1alpha1" = "standard.oam.dev/v1alpha1"

    kind: "Rollout" = "Rollout"

    metadata?: apis.ObjectMeta

    spec?: StandardOamDevV1alpha1RolloutSpec

    status?: StandardOamDevV1alpha1RolloutStatus


schema StandardOamDevV1alpha1RolloutSpec:
    """ RolloutSpec defines how to describe an update between different compRevision

    Attributes
    ----------
    componentName : str, default is Undefined, required
         ComponentName specify the component name
    sourceRevisionName : str, default is Undefined, optional
         SourceRevisionName contains the name of the componentRevisionName  that we need to upgrade from. it can be empty only when it's the first time to deploy the application
    targetRevisionName : str, default is Undefined, required
         TargetRevisionName contains the name of the componentRevisionName that we need to upgrade to.
    rolloutPlan : StandardOamDevV1alpha1RolloutSpecRolloutPlan, default is Undefined, required
        rollout plan
    """


    componentName: str

    sourceRevisionName?: str

    targetRevisionName: str

    rolloutPlan: StandardOamDevV1alpha1RolloutSpecRolloutPlan


schema StandardOamDevV1alpha1RolloutSpecRolloutPlan:
    """ RolloutPlan is the details on how to rollout the resources

    Attributes
    ----------
    batchPartition : int, default is Undefined, optional
         All pods in the batches up to the batchPartition (included) will have the target resource specification while the rest still have the source resource This is designed for the operators to manually rollout Default is the the number of batches which will rollout all the batches
    canaryMetric : [StandardOamDevV1alpha1RolloutSpecRolloutPlanCanaryMetricItems0], default is Undefined, optional
         CanaryMetric provides a way for the rollout process to automatically check certain metrics before complete the process
    numBatches : int, default is Undefined, optional
         The number of batches, default = 1
    paused : bool, default is Undefined, optional
         Paused the rollout, default is false
    rolloutBatches : [StandardOamDevV1alpha1RolloutSpecRolloutPlanRolloutBatchesItems0], default is Undefined, optional
         The exact distribution among batches. its size has to be exactly the same as the NumBatches (if set) The total number cannot exceed the targetSize or the size of the source resource We will IGNORE the last batch's replica field if it's a percentage since round errors can lead to inaccurate sum We highly recommend to leave the last batch's replica field empty
    rolloutStrategy : str, default is Undefined, optional
         RolloutStrategy defines strategies for the rollout plan The default is IncreaseFirstRolloutStrategyType
    rolloutWebhooks : [StandardOamDevV1alpha1RolloutSpecRolloutPlanRolloutWebhooksItems0], default is Undefined, optional
         RolloutWebhooks provide a way for the rollout to interact with an external process
    targetSize : int, default is Undefined, optional
         The size of the target resource. The default is the same as the size of the source resource.
    """


    batchPartition?: int

    canaryMetric?: [StandardOamDevV1alpha1RolloutSpecRolloutPlanCanaryMetricItems0]

    numBatches?: int

    paused?: bool

    rolloutBatches?: [StandardOamDevV1alpha1RolloutSpecRolloutPlanRolloutBatchesItems0]

    rolloutStrategy?: str

    rolloutWebhooks?: [StandardOamDevV1alpha1RolloutSpecRolloutPlanRolloutWebhooksItems0]

    targetSize?: int


schema StandardOamDevV1alpha1RolloutSpecRolloutPlanCanaryMetricItems0:
    """ CanaryMetric holds the reference to metrics used for canary analysis

    Attributes
    ----------
    interval : str, default is Undefined, optional
         Interval represents the windows size
    metricsRange : StandardOamDevV1alpha1RolloutSpecRolloutPlanCanaryMetricItems0MetricsRange, default is Undefined, optional
        metrics range
    name : str, default is Undefined, required
         Name of the metric
    templateRef : StandardOamDevV1alpha1RolloutSpecRolloutPlanCanaryMetricItems0TemplateRef, default is Undefined, optional
        template ref
    """


    interval?: str

    metricsRange?: StandardOamDevV1alpha1RolloutSpecRolloutPlanCanaryMetricItems0MetricsRange

    name: str

    templateRef?: StandardOamDevV1alpha1RolloutSpecRolloutPlanCanaryMetricItems0TemplateRef


schema StandardOamDevV1alpha1RolloutSpecRolloutPlanCanaryMetricItems0MetricsRange:
    """ Range value accepted for this metric

    Attributes
    ----------
    max : int, default is Undefined, optional
         Maximum value
    min : int, default is Undefined, optional
         Minimum value
    """


    max?: int

    min?: int


schema StandardOamDevV1alpha1RolloutSpecRolloutPlanCanaryMetricItems0TemplateRef:
    """ TemplateRef references a metric template object

    Attributes
    ----------
    apiVersion : str, default is Undefined, optional
         API version of the referent.
    fieldPath : str, default is Undefined, optional
         If referring to a piece of an object instead of an entire object, this string should contain a valid JSON/Go field access statement, such as desiredState.manifest.containers[2]. For example, if the object reference is to a container within a pod, this would take on a value like: "spec.containers{name}" (where "name" refers to the name of the container that triggered the event) or if no container name is specified "spec.containers[2]" (container with index 2 in this pod). This syntax is chosen only to have some well-defined way of referencing a part of an object. TODO: this design is not final and this field is subject to change in the future.
    kind : str, default is Undefined, optional
         Kind of the referent. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds
    name : str, default is Undefined, optional
         Name of the referent. More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names
    namespace : str, default is Undefined, optional
         Namespace of the referent. More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/namespaces/
    resourceVersion : str, default is Undefined, optional
         Specific resourceVersion to which this reference is made, if any. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#concurrency-control-and-consistency
    uid : str, default is Undefined, optional
         UID of the referent. More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#uids
    """


    apiVersion?: str

    fieldPath?: str

    kind?: str

    name?: str

    namespace?: str

    resourceVersion?: str

    uid?: str


schema StandardOamDevV1alpha1RolloutSpecRolloutPlanRolloutBatchesItems0:
    """ RolloutBatch is used to describe how the each batch rollout should be

    Attributes
    ----------
    batchRolloutWebhooks : [StandardOamDevV1alpha1RolloutSpecRolloutPlanRolloutBatchesItems0BatchRolloutWebhooksItems0], default is Undefined, optional
         RolloutWebhooks provides a way for the batch rollout to interact with an external process
    canaryMetric : [StandardOamDevV1alpha1RolloutSpecRolloutPlanRolloutBatchesItems0CanaryMetricItems0], default is Undefined, optional
         CanaryMetric provides a way for the batch rollout process to automatically check certain metrics before moving to the next batch
    instanceInterval : int, default is Undefined, optional
         The wait time, in seconds, between instances upgrades, default = 0
    maxUnavailable : int, default is Undefined, optional
         MaxUnavailable is the max allowed number of pods that is unavailable during the upgrade. We will mark the batch as ready as long as there are less or equal number of pods unavailable than this number. default = 0
    podList : [str], default is Undefined, optional
         The list of Pods to get upgraded it is mutually exclusive with the Replicas field
    replicas : int, default is Undefined, optional
         Replicas is the number of pods to upgrade in this batch it can be an absolute number (ex: 5) or a percentage of total pods we will ignore the percentage of the last batch to just fill the gap it is mutually exclusive with the PodList field
    """


    batchRolloutWebhooks?: [StandardOamDevV1alpha1RolloutSpecRolloutPlanRolloutBatchesItems0BatchRolloutWebhooksItems0]

    canaryMetric?: [StandardOamDevV1alpha1RolloutSpecRolloutPlanRolloutBatchesItems0CanaryMetricItems0]

    instanceInterval?: int

    maxUnavailable?: int

    podList?: [str]

    replicas?: int


schema StandardOamDevV1alpha1RolloutSpecRolloutPlanRolloutBatchesItems0BatchRolloutWebhooksItems0:
    """ RolloutWebhook holds the reference to external checks used for canary analysis

    Attributes
    ----------
    expectedStatus : [int], default is Undefined, optional
         ExpectedStatus contains all the expected http status code that we will accept as success
    metadata : {str:str}, default is Undefined, optional
         Metadata (key-value pairs) for this webhook
    method : str, default is Undefined, optional
         Method the HTTP call method, default is POST
    name : str, default is Undefined, required
         Name of this webhook
    $type : str, default is Undefined, required
         Type of this webhook
    url : str, default is Undefined, required
         URL address of this webhook
    """


    expectedStatus?: [int]

    metadata?: {str:str}

    method?: str

    name: str

    $type: str

    url: str


schema StandardOamDevV1alpha1RolloutSpecRolloutPlanRolloutBatchesItems0CanaryMetricItems0:
    """ CanaryMetric holds the reference to metrics used for canary analysis

    Attributes
    ----------
    interval : str, default is Undefined, optional
         Interval represents the windows size
    metricsRange : StandardOamDevV1alpha1RolloutSpecRolloutPlanRolloutBatchesItems0CanaryMetricItems0MetricsRange, default is Undefined, optional
        metrics range
    name : str, default is Undefined, required
         Name of the metric
    templateRef : StandardOamDevV1alpha1RolloutSpecRolloutPlanRolloutBatchesItems0CanaryMetricItems0TemplateRef, default is Undefined, optional
        template ref
    """


    interval?: str

    metricsRange?: StandardOamDevV1alpha1RolloutSpecRolloutPlanRolloutBatchesItems0CanaryMetricItems0MetricsRange

    name: str

    templateRef?: StandardOamDevV1alpha1RolloutSpecRolloutPlanRolloutBatchesItems0CanaryMetricItems0TemplateRef


schema StandardOamDevV1alpha1RolloutSpecRolloutPlanRolloutBatchesItems0CanaryMetricItems0MetricsRange:
    """ Range value accepted for this metric

    Attributes
    ----------
    max : int, default is Undefined, optional
         Maximum value
    min : int, default is Undefined, optional
         Minimum value
    """


    max?: int

    min?: int


schema StandardOamDevV1alpha1RolloutSpecRolloutPlanRolloutBatchesItems0CanaryMetricItems0TemplateRef:
    """ TemplateRef references a metric template object

    Attributes
    ----------
    apiVersion : str, default is Undefined, optional
         API version of the referent.
    fieldPath : str, default is Undefined, optional
         If referring to a piece of an object instead of an entire object, this string should contain a valid JSON/Go field access statement, such as desiredState.manifest.containers[2]. For example, if the object reference is to a container within a pod, this would take on a value like: "spec.containers{name}" (where "name" refers to the name of the container that triggered the event) or if no container name is specified "spec.containers[2]" (container with index 2 in this pod). This syntax is chosen only to have some well-defined way of referencing a part of an object. TODO: this design is not final and this field is subject to change in the future.
    kind : str, default is Undefined, optional
         Kind of the referent. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds
    name : str, default is Undefined, optional
         Name of the referent. More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names
    namespace : str, default is Undefined, optional
         Namespace of the referent. More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/namespaces/
    resourceVersion : str, default is Undefined, optional
         Specific resourceVersion to which this reference is made, if any. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#concurrency-control-and-consistency
    uid : str, default is Undefined, optional
         UID of the referent. More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#uids
    """


    apiVersion?: str

    fieldPath?: str

    kind?: str

    name?: str

    namespace?: str

    resourceVersion?: str

    uid?: str


schema StandardOamDevV1alpha1RolloutSpecRolloutPlanRolloutWebhooksItems0:
    """ RolloutWebhook holds the reference to external checks used for canary analysis

    Attributes
    ----------
    expectedStatus : [int], default is Undefined, optional
         ExpectedStatus contains all the expected http status code that we will accept as success
    metadata : {str:str}, default is Undefined, optional
         Metadata (key-value pairs) for this webhook
    method : str, default is Undefined, optional
         Method the HTTP call method, default is POST
    name : str, default is Undefined, required
         Name of this webhook
    $type : str, default is Undefined, required
         Type of this webhook
    url : str, default is Undefined, required
         URL address of this webhook
    """


    expectedStatus?: [int]

    metadata?: {str:str}

    method?: str

    name: str

    $type: str

    url: str


schema StandardOamDevV1alpha1RolloutStatus:
    """ CompRolloutStatus defines the observed state of rollout

    Attributes
    ----------
    LastSourceRevision : str, default is Undefined, optional
         LastSourceRevision contains the name of the componentRevisionName that we need to upgrade from. We will restart the rollout if this is not the same as the spec
    batchRollingState : str, default is Undefined, optional
         BatchRollingState only meaningful when the Status is rolling
    conditions : [StandardOamDevV1alpha1RolloutStatusConditionsItems0], default is Undefined, optional
         Conditions of the resource.
    currentBatch : int, default is Undefined, required
         The current batch the rollout is working on/blocked it starts from 0
    lastAppliedPodTemplateIdentifier : str, default is Undefined, optional
         lastAppliedPodTemplateIdentifier is a string that uniquely represent the last pod template each workload type could use different ways to identify that so we cannot compare between resources We update this field only after a successful rollout
    lastTargetRevision : str, default is Undefined, required
         LastUpgradedTargetRevision contains the name of the componentRevisionName that we upgraded to We will restart the rollout if this is not the same as the spec
    rollingState : str, default is Undefined, required
         RollingState is the Rollout State
    rolloutOriginalSize : int, default is Undefined, optional
         RolloutTargetSize is the size of the target resources. This is determined once the initial spec verification and does not change until the rollout is restarted
    rolloutTargetSize : int, default is Undefined, optional
         RolloutTargetSize is the size of the target resources. This is determined once the initial spec verification and does not change until the rollout is restarted
    targetGeneration : str, default is Undefined, optional
         NewPodTemplateIdentifier is a string that uniquely represent the new pod template each workload type could use different ways to identify that so we cannot compare between resources
    upgradedReadyReplicas : int, default is Undefined, required
         UpgradedReadyReplicas is the number of Pods upgraded by the rollout controller that have a Ready Condition.
    upgradedReplicas : int, default is Undefined, required
         UpgradedReplicas is the number of Pods upgraded by the rollout controller
    """


    LastSourceRevision?: str

    batchRollingState?: str

    conditions?: [StandardOamDevV1alpha1RolloutStatusConditionsItems0]

    currentBatch: int

    lastAppliedPodTemplateIdentifier?: str

    lastTargetRevision: str

    rollingState: str

    rolloutOriginalSize?: int

    rolloutTargetSize?: int

    targetGeneration?: str

    upgradedReadyReplicas: int

    upgradedReplicas: int


schema StandardOamDevV1alpha1RolloutStatusConditionsItems0:
    """ A Condition that may apply to a resource.

    Attributes
    ----------
    lastTransitionTime : str, default is Undefined, required
         LastTransitionTime is the last time this condition transitioned from one status to another.
    message : str, default is Undefined, optional
         A Message containing details about this condition's last transition from one status to another, if any.
    reason : str, default is Undefined, required
         A Reason for this condition's last transition from one status to another.
    status : str, default is Undefined, required
         Status of this condition; is it currently True, False, or Unknown?
    $type : str, default is Undefined, required
         Type of this condition. At most one of each condition type may apply to a resource at any point in time.
    """


    lastTransitionTime: str

    message?: str

    reason: str

    status: str

    $type: str


